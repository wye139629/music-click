<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="project.css">
</head>
<body>
  <div class="container">
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
    <div class="block"></div>
  </div>

  <script>
    const blocks = document.querySelectorAll('.block')
    let pressed = false

    function mousehandler(e) {
      e.preventDefault()
      pressed = true
      console.log(e)
      e.target.classList.add('block-active')
    }

    function movehandler(e) {
      if (pressed === true){
        e.target.classList.add('block-active')
      }
      console.log(e)
      console.log(pressed)
    }
    function leavehandler(e){
      if(Array.from(e.target.classList).indexOf('block-active') !== -1){
        e.target.classList.remove('block-active')
      }
    }
    function uphandler(e) {
     
      if (pressed === true){
        e.target.classList.remove('block-active')
        pressed = false
      }
    }

    // function remover(e) {
    //   console.log(e)
    //   if (e.propertyName == 'background-color'){
    //   this.classList.remove('block-active')
    //   }
    // }

    blocks.forEach(block => {
      block.addEventListener('mousedown',mousehandler)
      block.addEventListener('mouseup', uphandler)
      block.addEventListener('mouseover',movehandler)
      block.addEventListener('mouseleave',leavehandler)
      // block.addEventListener('transitionend',remover)
    })
  </script>
</body>
</html>